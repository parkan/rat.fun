{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @ratfun/shared-utils\n * Common utility functions shared across all frontend packages.\n */\n\nimport type { Hex } from \"viem\"\nimport { fromZonedTime, toZonedTime } from \"date-fns-tz\"\n\n// ============================================================================\n// String Utilities\n// ============================================================================\n\n/**\n * Converts a string to camel case\n */\nexport function toCamelCase(s: string): string {\n  return s\n    .replace(/([-_][a-z])/gi, $1 => $1.toUpperCase().replace(\"-\", \"\").replace(\"_\", \"\"))\n    .replace(/^./, str => str.toLowerCase())\n}\n\n/**\n * Truncates a string to a given length\n */\nexport function truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) return str\n  return str.slice(0, maxLength) + \"...\"\n}\n\n/**\n * Replace unsafe characters with a placeholder.\n * Used to avoid trickery with hidden/non-human readable characters.\n */\nexport function renderSafeString(\n  input: string,\n  placeholder = \"\\u{1F480}\",\n  renderCodepoints = false\n): string {\n  return [...input]\n    .map(char => {\n      const code = char.codePointAt(0)\n      if (code === undefined) return placeholder\n\n      const isPUA =\n        (code >= 0xe000 && code <= 0xf8ff) ||\n        (code >= 0xf0000 && code <= 0xffffd) ||\n        (code >= 0x100000 && code <= 0x10fffd)\n\n      const isTagsBlock = code >= 0xe0000 && code <= 0xe007f\n      const isNonCharacter = (code & 0xfffe) === 0xfffe\n\n      const isControl =\n        (code >= 0x00 && code <= 0x1f && ![0x09, 0x0a, 0x0d].includes(code)) ||\n        (code >= 0x7f && code <= 0x9f)\n\n      const isZeroWidth =\n        code === 0x200b ||\n        code === 0x200c ||\n        code === 0x200d ||\n        code === 0x2060 ||\n        code === 0xfeff ||\n        (code >= 0x202a && code <= 0x202f) ||\n        (code >= 0x2066 && code <= 0x2069)\n\n      const isObscureOrDeprecated =\n        code === 0x034f ||\n        code === 0x061c ||\n        code === 0x180e ||\n        (code >= 0x1d159 && code <= 0x1d165)\n\n      const isSuspicious =\n        isPUA || isTagsBlock || isNonCharacter || isControl || isZeroWidth || isObscureOrDeprecated\n\n      if (isSuspicious) {\n        if (renderCodepoints) {\n          return `[U+${code.toString(16).toUpperCase().padStart(4, \"0\")}]`\n        } else {\n          return placeholder\n        }\n      }\n\n      return char\n    })\n    .join(\"\")\n}\n\n// ============================================================================\n// Address Utilities\n// ============================================================================\n\n/**\n * Shortens an Ethereum address for display\n */\nexport function shortenAddress(s: string): string {\n  return s ? s.slice(0, 5) + \"...\" + s.slice(-5) : \"\"\n}\n\n/**\n * Converts an address to a hex color\n */\nexport function addressToColor(address: string): string {\n  if (!address || address.length < 6) return \"#FF0000\"\n  return \"#\" + address.slice(-6)\n}\n\n/**\n * Converts an address to a padded 32-byte id\n */\nexport function addressToId(address: string): Hex {\n  if (!address) return \"0x0\"\n  return (\"0x\" + address.slice(2).padStart(64, \"0\").toLowerCase()) as Hex\n}\n\n/**\n * Converts a padded id back to an unpadded address\n */\nexport function idToAddress(paddedAddress: string): string {\n  if (!paddedAddress) return \"0x0\"\n  return \"0x\" + paddedAddress.slice(2).replace(/^0+/, \"\")\n}\n\n/**\n * Deterministically maps an Ethereum address to a number within a specified range\n */\nexport function addressToNumber(address: string, max: number): number {\n  if (!address) return 0\n\n  const cleanAddress = address.startsWith(\"0x\") ? address.slice(2) : address\n\n  let hash = 0\n  for (let i = 0; i < cleanAddress.length; i++) {\n    const char = cleanAddress.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash\n  }\n\n  return Math.abs(hash) % (max + 1)\n}\n\n// ============================================================================\n// Array Utilities\n// ============================================================================\n\n/**\n * Gets unique values from an array\n */\nexport function getUniqueValues<T>(arr: T[]): T[] {\n  return [...new Set(arr)]\n}\n\n/**\n * Picks a random element from an array\n */\nexport function getRandomElement<T>(array: T[]): T {\n  const randomIndex = Math.floor(Math.random() * array.length)\n  return array[randomIndex]\n}\n\n/**\n * Picks an element from an array by index (wrapping)\n */\nexport function pickByIndex<T>(array: T[], index: number): T {\n  return array[array.length % (index + 1)]\n}\n\n// ============================================================================\n// Object Utilities\n// ============================================================================\n\n/**\n * Filters an object by keeping only specified keys\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function filterObjectByKey(\n  obj: { [key: string]: any },\n  keysToKeep: string[]\n): { [key: string]: any } {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const filteredObj: { [key: string]: any } = {}\n\n  keysToKeep.forEach(key => {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      filteredObj[key] = obj[key]\n    }\n  })\n\n  return filteredObj\n}\n\n/**\n * Removes keys starting with __ from an object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function removePrivateKeys(obj: Record<string, any>): Record<string, any> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const newObj: Record<string, any> = {}\n  for (const key in obj) {\n    if (!key.startsWith(\"__\")) {\n      newObj[key] = obj[key]\n    }\n  }\n  return newObj\n}\n\n// ============================================================================\n// Hex Utilities\n// ============================================================================\n\n/**\n * Converts a hex string to a regular string\n */\nexport function hexToString(hex: string): string {\n  hex = hex.substring(2)\n  let string = \"\"\n\n  while (hex.length % 4 != 0) {\n    hex = \"0\" + hex\n  }\n\n  for (let i = 0; i < hex.length; i += 4) {\n    string += String.fromCharCode(parseInt(hex.substring(i, i + 4), 16))\n  }\n\n  return string\n}\n\n/**\n * Converts a string to a hex string\n */\nexport function stringToHex(string: string): string {\n  let hex = \"\"\n  for (let i = 0; i < string.length; i++) {\n    hex += ((i == 0 ? \"\" : \"000\") + string.charCodeAt(i).toString(16)).slice(-4)\n  }\n  return \"0x\" + hex.toUpperCase()\n}\n\n// ============================================================================\n// Random Utilities\n// ============================================================================\n\n/**\n * Gets a random integer between two numbers (inclusive)\n */\nexport function getRandomInt(min: number, max: number): number {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * Alias for getRandomInt\n */\nexport function getRandomNumber(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * Generates a random uint256 number\n */\nexport function getRandomUint256(): bigint {\n  let randomUint256 = BigInt(0)\n\n  for (let i = 0; i < 8; i++) {\n    const random32Bits = BigInt(Math.floor(Math.random() * 0x100000000))\n    randomUint256 = (randomUint256 << BigInt(32)) | random32Bits\n  }\n\n  return randomUint256\n}\n\n/**\n * Generates a random uint32 number\n */\nexport function getRandomUint32(): number {\n  return Math.floor(Math.random() * 0x100000000)\n}\n\n// ============================================================================\n// Time Utilities\n// ============================================================================\n\n/**\n * Sleeps for a given number of milliseconds\n */\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\n/**\n * Calculates human-readable time since a timestamp\n */\nexport function timeSince(timestamp: number): string {\n  const now = Date.now()\n  const elapsed = now - timestamp\n\n  const minutes = Math.floor(elapsed / 60000)\n  const hours = Math.floor(elapsed / 3600000)\n  const days = Math.floor(elapsed / 86400000)\n\n  if (days > 0) {\n    return `${days} day${days !== 1 ? \"s\" : \"\"} ago`\n  } else if (hours > 0) {\n    return `${hours} hour${hours !== 1 ? \"s\" : \"\"} ago`\n  } else if (minutes > 0) {\n    return `${minutes} minute${minutes !== 1 ? \"s\" : \"\"} ago`\n  } else {\n    return \"now\"\n  }\n}\n\n/**\n * Calculates formatted time until a timestamp\n */\nexport function timeUntil(timestamp: number): string {\n  const now = Date.now()\n  const remaining = timestamp - now\n\n  if (remaining <= 0) {\n    return \"00:00:00\"\n  }\n\n  const totalSeconds = Math.floor(remaining / 1000)\n  const hours = Math.floor(totalSeconds / 3600) % 24\n  const minutes = Math.floor((totalSeconds % 3600) / 60)\n  const days = Math.floor(remaining / 86400000)\n  const seconds = totalSeconds % 60\n\n  const formattedDays = days.toString().padStart(2, \"0\")\n  const formattedHours = hours.toString().padStart(2, \"0\")\n  const formattedMinutes = minutes.toString().padStart(2, \"0\")\n  const formattedSeconds = seconds.toString().padStart(2, \"0\")\n\n  return `${formattedDays} days ${formattedHours}:${formattedMinutes}:${formattedSeconds}`\n}\n\n/**\n * Calculates milliseconds until a timestamp\n */\nexport function millisUntil(timestamp: number): number {\n  return timestamp - Date.now()\n}\n\n/**\n * Pads a number with a leading zero\n */\nexport function padWithZero(value: number): string {\n  return value.toString().padStart(2, \"0\")\n}\n\n/**\n * Formats a date to HH:MM:SS\n */\nexport function formatDate(date: Date): string {\n  const hours = String(date.getHours()).padStart(2, \"0\")\n  const minutes = String(date.getMinutes()).padStart(2, \"0\")\n  const seconds = String(date.getSeconds()).padStart(2, \"0\")\n  return `${hours}:${minutes}:${seconds}`\n}\n\n// ============================================================================\n// Math Utilities\n// ============================================================================\n\n/**\n * Linear interpolation between two values\n */\nexport function lerp(x: number, y: number, a: number): number {\n  return x * (1 - a) + y * a\n}\n\n/**\n * Clamps a value between min and max\n */\nexport function clamp(a: number, min: number = 0, max: number = 1): number {\n  return Math.min(max, Math.max(min, a))\n}\n\n/**\n * Inverse linear interpolation - returns progress (0-1) of value between x and y\n */\nexport function invlerp(x: number, y: number, a: number): number {\n  return clamp((a - x) / (y - x))\n}\n\n/**\n * Maps a value from one range to another\n */\nexport function range(x1: number, y1: number, x2: number, y2: number, a: number): number {\n  return lerp(x2, y2, invlerp(x1, y1, a))\n}\n\n/**\n * Calculates the proper modulus (handles negative numbers correctly)\n */\nexport function mod(n: number, m: number): number {\n  return ((n % m) + m) % m\n}\n\n/**\n * Step easing function for animations\n */\nexport function stepsEasing(t: number, steps: number = 4, direction = \"start\"): number {\n  t = Math.min(Math.max(t, 0), 1)\n\n  let progress\n  if (direction === \"start\") {\n    progress = Math.floor(t * steps) / steps\n  } else {\n    progress = Math.ceil(t * steps) / steps\n    progress = Math.min(progress, 1)\n  }\n\n  return progress\n}\n\n/**\n * Pads a number to 78 characters (uint256 max digits)\n */\nexport function padToUint256(num: number | bigint): string {\n  return num.toString().padStart(78, \"0\")\n}\n\n// ============================================================================\n// Block Time Utilities\n// ============================================================================\n\nconst BLOCKTIME = 2\n\n/**\n * Converts blocks to seconds\n */\nexport function blocksToSeconds(blocks: number): number {\n  return blocks * BLOCKTIME\n}\n\n/**\n * Converts blocks to a readable time string (H:MM:SS)\n */\nexport function blocksToReadableTime(blocks: number): string {\n  const seconds = blocksToSeconds(blocks)\n\n  const hours = Math.floor(seconds / 3600)\n  const minutes = Math.floor((seconds % 3600) / 60)\n  const secs = seconds % 60\n\n  const paddedMinutes = minutes < 10 ? `0${minutes}` : `${minutes}`\n  const paddedSeconds = secs < 10 ? `0${secs}` : `${secs}`\n\n  return `${hours}:${paddedMinutes}:${paddedSeconds}`\n}\n\n// ============================================================================\n// JSON Utilities\n// ============================================================================\n\n/**\n * Error class for JSON parsing failures\n */\nexport class JSONParseError extends Error {\n  public readonly jsonString: string\n\n  constructor(message: string, jsonString: string) {\n    super(message)\n    this.name = \"JSONParseError\"\n    this.jsonString = jsonString\n  }\n}\n\n/**\n * Parses JSON from a string, handling markdown code blocks\n */\nexport function parseJSONFromContent<T = Record<string, unknown>>(content: string): T {\n  const regex = /```json([\\s\\S]*?)```/\n  const match = content.match(regex)\n\n  let jsonString: string\n\n  if (match && match[1]) {\n    jsonString = match[1].trim()\n  } else {\n    jsonString = content.trim()\n  }\n\n  try {\n    return JSON.parse(jsonString) as T\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : String(error)\n    throw new JSONParseError(\"Failed to parse JSON: \" + errorMessage, jsonString)\n  }\n}\n\n// ============================================================================\n// Browser Utilities\n// ============================================================================\n\n/**\n * Svelte action to copy text to clipboard on click\n */\nexport function clickToCopy(node: HTMLElement, text: string) {\n  async function copyText() {\n    try {\n      await navigator.clipboard.writeText(text)\n\n      node.dispatchEvent(\n        new CustomEvent(\"copysuccess\", {\n          bubbles: true\n        })\n      )\n    } catch (error) {\n      node.dispatchEvent(\n        new CustomEvent(\"copyerror\", {\n          bubbles: true,\n          detail: error\n        })\n      )\n    }\n  }\n\n  node.addEventListener(\"click\", copyText)\n\n  return {\n    destroy() {\n      node.removeEventListener(\"click\", copyText)\n    }\n  }\n}\n\n/**\n * Detects if the current browser supports extensions (desktop browsers)\n */\nexport function hasExtensionSupport(): boolean {\n  if (typeof window === \"undefined\") {\n    return false\n  }\n\n  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  )\n\n  const isTouchDevice = \"ontouchstart\" in window || navigator.maxTouchPoints > 0\n  const isSmallScreen = window.innerWidth < 768 || window.innerHeight < 768\n\n  if (isMobile || (isTouchDevice && isSmallScreen)) {\n    return false\n  }\n\n  return true\n}\n\n// ============================================================================\n// CET Timezone Utilities\n// ============================================================================\n\nconst BERLIN_TZ = \"Europe/Berlin\"\n\n/**\n * Calculate today's CET/CEST time (not rolling to next day).\n * Correctly handles DST transitions using date-fns-tz.\n * @param timeStr Time in HH:MM format (e.g., \"16:00\")\n * @returns Date object representing that time in Berlin timezone, converted to UTC\n */\nexport function getTodayCETTime(timeStr: string): Date {\n  const now = new Date()\n\n  // Get today's date in Berlin timezone\n  const berlinNow = toZonedTime(now, BERLIN_TZ)\n\n  // Parse the time string\n  const [hours, minutes] = timeStr.padStart(5, \"0\").split(\":\").map(Number)\n\n  // Create a date object representing the target time in Berlin\n  const targetInBerlin = new Date(berlinNow)\n  targetInBerlin.setHours(hours, minutes, 0, 0)\n\n  // Convert from Berlin time to UTC - this handles DST correctly\n  return fromZonedTime(targetInBerlin, BERLIN_TZ)\n}\n\n/**\n * Calculate the next occurrence of a CET/CEST time.\n * If the time has already passed today in Berlin, returns tomorrow's time.\n * Correctly handles DST transitions using date-fns-tz.\n * @param timeStr Time in HH:MM format (e.g., \"16:00\")\n * @returns Date object representing the next occurrence of that time in Berlin timezone\n */\nexport function getNextCETTime(timeStr: string): Date {\n  const now = new Date()\n  const todayTarget = getTodayCETTime(timeStr)\n\n  // If the time hasn't passed yet today, return today's time\n  if (todayTarget.getTime() > now.getTime()) {\n    return todayTarget\n  }\n\n  // Time has passed, calculate tomorrow's time\n  const berlinNow = toZonedTime(now, BERLIN_TZ)\n\n  // Parse the time string\n  const [hours, minutes] = timeStr.padStart(5, \"0\").split(\":\").map(Number)\n\n  // Create tomorrow's date in Berlin timezone\n  const tomorrowInBerlin = new Date(berlinNow)\n  tomorrowInBerlin.setDate(tomorrowInBerlin.getDate() + 1)\n  tomorrowInBerlin.setHours(hours, minutes, 0, 0)\n\n  // Convert from Berlin time to UTC - this handles DST correctly\n  return fromZonedTime(tomorrowInBerlin, BERLIN_TZ)\n}\n\n/**\n * Format a countdown diff (in ms) to a human-readable string\n */\nexport function formatCountdown(diff: number): string {\n  if (diff <= 0) return \"\"\n\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24))\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000)\n\n  if (days > 0) {\n    return `${days}d ${hours.toString().padStart(2, \"0\")}h ${minutes.toString().padStart(2, \"0\")}m`\n  } else if (hours > 0) {\n    return `${hours.toString().padStart(2, \"0\")}h ${minutes.toString().padStart(2, \"0\")}m ${seconds.toString().padStart(2, \"0\")}s`\n  } else if (minutes > 0) {\n    return `${minutes.toString().padStart(2, \"0\")}m ${seconds.toString().padStart(2, \"0\")}s`\n  } else {\n    return `${seconds.toString().padStart(2, \"0\")}s`\n  }\n}\n\n// ============================================================================\n// Blockchain Timestamp Utilities\n// ============================================================================\n\n/**\n * Converts a historical block number to an approximate timestamp.\n * Works backwards from the current block number and current time.\n * @param blockNumber The historical block number to convert\n * @param currentBlockNumber The current block number (from chain)\n * @returns The approximate timestamp in milliseconds (Unix epoch)\n */\nexport function blockNumberToTimestamp(blockNumber: number, currentBlockNumber: number): number {\n  const currentTime = Date.now()\n  const blocksDiff = currentBlockNumber - blockNumber\n  const millisecondsDiff = blocksToSeconds(blocksDiff) * 1000\n  return currentTime - millisecondsDiff\n}\n\n// ============================================================================\n// Deterministic Hash Utilities\n// ============================================================================\n\n/**\n * Divides a 64-character hex string into 4 equal numeric parts.\n * Useful for deterministically deriving multiple values from a single hash.\n * @param hexString 64+ character hex string (with or without 0x prefix)\n * @returns Array of 4 numbers derived from each quarter of the hash\n */\nexport function hexToFourParts(hexString: string): [number, number, number, number] {\n  // Remove 0x prefix if present\n  const cleanHex = hexString.startsWith(\"0x\") ? hexString.slice(2) : hexString\n  const partLength = 16 // 16 hex chars = 8 bytes per part\n\n  const part1 = parseInt(cleanHex.slice(0, partLength), 16)\n  const part2 = parseInt(cleanHex.slice(partLength, partLength * 2), 16)\n  const part3 = parseInt(cleanHex.slice(partLength * 2, partLength * 3), 16)\n  const part4 = parseInt(cleanHex.slice(partLength * 3, partLength * 4), 16)\n\n  return [part1, part2, part3, part4]\n}\n\n/**\n * Derives 4 deterministic indices from a hex address, useful for selecting\n * from multiple arrays based on an address hash.\n * @param addressHash A hash of the address (e.g., sha256 result)\n * @param lengths Array of 4 lengths to mod against [bodyLen, armsLen, headLen, earsLen]\n * @returns Array of 4 indices, each within bounds of the corresponding length\n */\nexport function hashToIndices(\n  addressHash: string,\n  lengths: [number, number, number, number]\n): [number, number, number, number] {\n  const parts = hexToFourParts(addressHash)\n  return [\n    parts[0] % lengths[0],\n    parts[1] % lengths[1],\n    parts[2] % lengths[2],\n    parts[3] % lengths[3]\n  ]\n}\n"],"mappings":"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","names":[]}